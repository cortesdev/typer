/*! typer v0.4.1 | (c) 2015 Pete Redmond |  */
!function(t,e){"use strict";if("function"==typeof define&&define.amd)define(["angular"],e);else{if("undefined"==typeof module||"object"!=typeof module.exports)return e(t.angular);module.exports=e(require("angular"))}}(this,function(t){"use strict";function e(e,n){function r(n,r,o){var u=t.element(r[0].querySelector(".typer")),l={};l.repeat=n.repeat="undefined"==typeof n.repeat?!0:n.repeat,n.shuffle=n.shuffle===!0?!0:!1,l.startTyping=n.startTyping=n.startTyping===!0?!0:!1,l.words=n.shuffle?d(n.words):n.words,l.wordCount=l.words.length,l.count=0,l.startDelay=n.startDelay||500,l.pause=n.pause||1e3,l.typeTime=n.typeTime||250,l.backspaceTime=n.backspaceTime||l.typeTime,l.onTyped=n.onTyped,l.onDeleted=n.onDeleted,l.onComplete=n.onComplete,l.cursor=t.element(r[0].querySelector(".typer__cursor")),l.timer=null,n.highlightBackground?(l.highlight={},l.highlight.background=n.highlightBackground,l.highlight.color=n.highlightColor||"#FFFFFF",l.highlight.speed=l.backspaceTime,l.backAction=c,l.span=a(u,l)):l.backAction=s,n.setInitalWord=function(){return l.startTyping?"":l.words[0]},n.getCursor=function(){return l.highlight?"":n.cursor||"|"},n.$watchCollection("words",function(t,e){t&&(l.words=t,l.wordCount=l.words.length)}),e(function(){i(l,u)},l.startDelay)}function o(){var t=['<div style="display: inline-block;">','<span class="typer">{{setInitalWord()}}</span>','<span class="typer__cursor typer__cursor--blink">{{getCursor()}}</span>',"</div>"];return t.join("")}function i(t,e){t.highlight||u(t),t.startTyping?l(e,t):t.highlight?c(e,t):s(e,t)}function u(t,e){e?t.cursor.addClass("typer__cursor--blink"):t.cursor.removeClass("typer__cursor--blink")}function l(t,e){var r=e.words[e.count],o=r.length,i=0;e.timer=n(function(){if(t.html(r.substring(0,i+1)),++i===o){if(e.count===e.wordCount-1&&!e.repeat)return e.onComplete(),void p(e);e.onTyped(),h(t,e,e.backAction)}},e.typeTime)}function s(t,e){var r=e.words[e.count],o=r.length;e.timer=n(function(){t.html(r.substring(0,o-1)),0===--o&&(e.count=g(e.count,e.wordCount),e.onDeleted(),h(t,e,l))},e.backspaceTime)}function c(t,r){var o=r.words[r.count],i=o.length;r.timer=n(function(){t.html(o.substring(0,i-1)),r.span.html(o.substring(i-1)),0===--i&&(e(function(){r.span.html("")},r.pause),r.count=g(r.count,r.wordCount),r.onDeleted(),h(t,r,l))},r.highlight.speed/i)}function a(e,n){var r=t.element("<span></span>");return r.css({backgroundColor:n.highlight.background,color:n.highlight.color}),e.after(r),r}function h(t,n,r){p(n),n.highlight||u(n,!0),e(function(){n.highlight||u(n,!1),r.apply(null,[t,n])},n.pause)}function p(t){n.cancel(t.timer),t.timer=null}function g(t,e){return t===e-1?0:t+1}function d(t){for(var e,n,r=t.length;r;)n=Math.floor(Math.random()*r),r--,e=t[r],t[r]=t[n],t[n]=e;return t}return{template:o(),scope:{words:"=",repeat:"=?",cursor:"=?",startDelay:"@",pause:"@",typeTime:"@",backspaceTime:"@",highlightBackground:"@",highlightColor:"@",onTyped:"&",onComplete:"&",onDeleted:"&",startTyping:"=?",shuffle:"=?",cursor:"@"},link:r,restrict:"E",replace:!0}}var n="typer";return t.module(n,[]).directive("typer",e),e.$inject=["$timeout","$interval"],n});